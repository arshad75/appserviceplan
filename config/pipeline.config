prompt: |
  gemrate a jenkinsfile for the above code, it should cover test cases, build, package, create docker image, scan docker image, then publish docker image, it should also be able to scan for secrects in the repo if any. only print the code and do not add anything in the response not even ```, only the pipeline code. 