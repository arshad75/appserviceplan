```yaml
name: CI/CD pipeline for Node.js application on AWS

on:
  push:
    branches:
    - main

stages:
  build:
    jobs:
      build-and-unit-test:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v3
          - uses: actions/setup-node@v3
            with:
              node-version: 16
          - run: npm ci
          - run: npm run build
          - run: npm run test

  secret-scan:
    jobs:
      secret-scan:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v3
          - uses: actions/setup-node@v3
            with:
              node-version: 16
          - run: npm ci
          - run: npm install snyk
          - run: snyk monitor

  test:
    jobs:
      integration-test:
        needs: [build]
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v3
          - uses: actions/setup-node@v3
            with:
              node-version: 16
          - run: npm ci
          - run: npm run integration-test

  deploy:
    jobs:
      deploy-to-aws:
        needs: [test]
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v3
          - uses: actions/setup-node@v3
            with:
              node-version: 16
          - run: npm ci
          - run: npm run deploy
```